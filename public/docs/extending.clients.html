<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>CSS &amp; JavaScript // Swarm 2016.2 Guide</title>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1 with Perforce customizations" />
      <link rel="home" href="copyright.html" title="Swarm 2016.2 Guide" />
      <link rel="up" href="chapter.extending.html" title="Extending Swarm" />
      <link rel="prev" href="extending.example_email.html" title="Example email module" />
      <link rel="next" href="api.html" title="Swarm API" />
      <meta name="Section-title" content="CSS &amp; JavaScript" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.css" />
      <link rel="stylesheet" href="vendor/prettify/prettify.css" />
      <link rel="stylesheet" href="css/perforce.css" />
      <link rel="stylesheet" href="css/print.css" media="print" />
      <link rel="shortcut icon" href="images/favicon.ico" />
      <!--[if lt IE 9]>
  <script type="text/javascript" src="vendor/respond/respond.min.js"></script>
  <link rel="stylesheet" type="text/css" href="css/ie.css"/>
<![endif]-->
      <link rel="stylesheet" type="text/css" href="css/swarm.css" />
   </head>
   <body><a id="page-top"></a><div id="header">
         <div class="container"><button name="toc" type="button" class="toc"><span class="glyphicon glyphicon-list"></span></button><span class="logo"><a href="http://www.perforce.com/documentation"></a></span><h1><a href="index.html" class="title"><span class="brand"></span><span class="guide-title">Swarm 2016.2 Guide</span><span class="guide-subtitle">
                                   (September 2016)
                                 </span></a></h1><button name="search" type="button" class="search" title="Search this guide"><span class="glyphicon glyphicon-search"></span></button></div>
         <div id="progress"></div>
      </div>
      <div id="content" class="content" tabindex="-1">
         <div class="container">
            <!---->
            <div class="section" id="extending.clients">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title" style="clear: both">CSS &amp; JavaScript</h2>
                     </div>
                  </div>
               </div>
               <p>
                      Custom CSS and JavaScript files will be loaded automatically if you place
                      them under either:
                    
               </p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>
                                   <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom/<em class="replaceable"><code>*.(css|js)</code></em></code>
                                 
                        </p>
                     </li>
                     <li class="listitem">
                        <p>
                                   <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom/<em class="replaceable"><code>sub-folder</code></em>/<em class="replaceable"><code>*.(css|js)</code></em></code>
                                 
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="note admonition">
                  <h3 class="title">Note</h3>
                  <p>
                           Swarm only supports customizations placed directly within the
                           <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder or one sub-folder down.
                           Customizations are added after all standard CSS and JavaScript. If more
                           than one custom file is present they are added in alphabetical order.
                         
                  </p>
                  <p>
                           Prior to creating any customizations, ensure that the
                           <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder exists; Swarm does
                           not ship with or create this folder.
                         
                  </p>
               </div>
               <div class="section" id="extending.clients.javascript">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title">Sample Javascript extensions</h3>
                        </div>
                     </div>
                  </div>
                  <p>
                           The following are example Javascript customizations that you might wish to
                           apply to your Swarm installation. Each example can be implemented
                           separately. Ideally, you would apply the Javascript customizations in a
                           single file to reduce the number of web requests required.
                         
                  </p>
                  <div class="caution admonition">
                     <h3 class="title">Caution</h3>
                     <p>
                                Coding errors in your custom JavaScript files could cause the Swarm UI
                                to stop working. If this occurs, use your browser's development tools to
                                identify which file contains the problem, and move that file out of the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. When the problem
                                has been resolved, the file can be returned.
                              
                     </p>
                  </div>
                  <div class="section" id="extending.clients.javascript.created">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Make the Created column on the Reviews page clickable</h4>
                           </div>
                        </div>
                     </div><pre lang="javascript" class="programlisting">
$(document).on( 'click', '.reviews-table td.created', function() {
    var change = $(this).closest('tr').data('id');
    window.location = '/reviews/' + change;
});

</pre><p>
                                Save these lines in a file, perhaps
                                <code class="filename">reviews-created-clickable.js</code>, within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the JavaScript file, making the entries in the
                                <span class="emphasis"><em>Created</em></span> column clickable immediately for all for
                                subsequent review page views.
                              
                     </p>
                  </div>
                  <div class="section" id="extending.clients.javascript.morecontext">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Adjust the number of "more context" lines for diffs</h4>
                           </div>
                        </div>
                     </div><pre lang="javascript" class="programlisting">
swarm.diff.moreContextLines = <em class="replaceable"><code>25</code></em>;
</pre><p>
                                Replace the <em class="replaceable"><code>25</code></em> with the number of lines of
                                context that should be retrieved each time the <span class="emphasis"><em>more
                                      context</em></span> bar is clicked when viewing a diff.
                              
                     </p>
                     <p>
                                Save this line in a file, perhaps
                                <code class="filename">more-context-lines.js</code>, within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the JavaScript file, adjusting the number of
                                <span class="emphasis"><em>more context</em></span> lines immediately for subsequent page
                                views.
                              
                     </p>
                     <div class="note admonition">
                        <h3 class="title">Note</h3>
                        <p>
                                     Try to avoid making this value arbitrarily large, as the file being
                                     diffed could be very large; users wouldn't expect to see the entire
                                     file when clicking the <span class="emphasis"><em>more context</em></span> bar. If you
                                     need to see the whole file, click the <span class="guibutton">Show full
                                        context</span> icon.
                                   
                        </p>
                     </div>
                  </div>
                  <div class="section" id="extending.clients.javascript.reviewstate">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Customize the review state options text</h4>
                           </div>
                        </div>
                     </div><pre lang="javacript" class="programlisting">
var original = swarm.review.buildStateMenu;
swarm.review.buildStateMenu = function(){
   original();
   var needsReview = $('.icon-review-needsReview').parent();
   needsReview.html(needsReview.html().replace(
     'Needs Review', '<em class="replaceable"><code>You need to review</code></em>'
   ));
}
</pre><p>
                                Replace the <em class="replaceable"><code>You need to review</code></em> with the text
                                you'd prefer to see instead of <code class="literal">Needs Review</code>.
                              
                     </p>
                     <p>
                                Save this line in a file, perhaps
                                <code class="filename">customize-review-states.js</code>, within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the JavaScript file, adjusting the text of the
                                review states immediately for subsequent page views.
                              
                     </p>
                  </div>
               </div>
               <div class="section" id="extending.clients.css">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h3 class="title">Sample CSS customizations</h3>
                        </div>
                     </div>
                  </div>
                  <p>
                           The following are example CSS customizations that you might wish to apply
                           to your Swarm installation. Each example can be implemented separately.
                           Ideally, you would apply the CSS customizations in a single file to reduce
                           the number of web requests required.
                         
                  </p>
                  <div class="section" id="extending.clients.css.tabsize">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Adjust the default tab size</h4>
                           </div>
                        </div>
                     </div><pre lang="CSS" class="programlisting">
body {
    tab-size: <em class="replaceable"><code>4</code></em>;
}
</pre><p>
                                Replace the <em class="replaceable"><code>4</code></em> with the tab size you prefer.
                              
                     </p>
                     <p>
                                Save these lines in a file, perhaps <code class="filename">tab-size.css</code>,
                                within the <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the CSS file, adjusting the tab size immediately
                                for subsequent page views.
                              
                     </p>
                  </div>
                  <div class="section" id="extending.clients.css.loginbg">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Apply a custom background to the login screen</h4>
                           </div>
                        </div>
                     </div><pre lang="CSS" class="programlisting">
body.route-login {
    background: url("<em class="replaceable"><code>/custom/login_background.jpg</code></em>") no-repeat center fixed;
}
</pre><p>
                                Replace the <em class="replaceable"><code>/custom/login_background.jpg</code></em> URL
                                fragment with image you want to use. If you do not specify a full URL,
                                the image you specify must exist within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public</code> folder, preferably within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder.
                              
                     </p>
                     <p>
                                Save these lines in a file, perhaps
                                <code class="filename">login-background.css</code>, within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the CSS file, immediately replacing the login
                                screen's background for subsequent page views.
                              
                     </p>
                  </div>
                  <div class="section" id="extending.clients.css.navbar_logo">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Replace Swarm's logo in the main navigation bar</h4>
                           </div>
                        </div>
                     </div><pre lang="CSS" class="programlisting">
.navbar-site .brand {
    background: url("<em class="replaceable"><code>/custom/navbar_logo.jpg</code></em>") no-repeat center;
}
</pre><p>
                                Replace the <em class="replaceable"><code>/custom/navbar_logo.jpg</code></em> URL
                                fragment with image you want to use. If you do not specify a full URL,
                                the image you specify must exist within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public</code> folder, preferably within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder.
                              
                     </p>
                     <p>
                                Save these lines in a file, perhaps
                                <code class="filename">navbar-logo.css</code>, within the
                                <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the CSS file, immediately replacing the login
                                screen's background for subsequent page views.
                              
                     </p>
                     <div class="note admonition">
                        <h3 class="title">Note</h3>
                        <p>
                                     Swarm's navbar design supports logos up to 24 pixels tall. Even if your
                                     logo fits within that height, you may need to also adjust the width,
                                     height, margins, or padding to suit your logo.
                                   
                        </p>
                     </div>
                  </div>
                  <div class="section" id="extending.clients.css.avatar">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h4 class="title">Adjust the appearance of avatars</h4>
                           </div>
                        </div>
                     </div><pre lang="CSS" class="programlisting">
img.avatar {
    border: 2px dashed red;
    border-radius: 10%;
}
</pre><p>
                                You can make a number of adjustments to the way Swarm presents avatars,
                                such as adding a border and adjusting the border radius, as the example
                                above demonstrates. You should avoid attempting to set specific sizes
                                because Swarm uses different sizes depending on where the avatar is
                                displayed.
                              
                     </p>
                     <p>
                                Save these lines in a file, perhaps <code class="filename">avatars.css</code>,
                                within the <code class="filename"><a class="link" href="admin.swarm_root.html" title="swarm_root"><em class="replaceable"><code>SWARM_ROOT</code></em></a>/public/custom</code> folder. Swarm
                                automatically includes the CSS file, immediately replacing the login
                                screen's background for subsequent page views.
                              
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="nav" class="toc"></div>
      <div id="search">
         <div class="input"><input id="search-text" type="search" placeholder="Search this guide" /><button name="clear" type="button" class="clear"><span class="glyphicon glyphicon-remove-sign"></span></button></div>
         <div class="controls">
            <div class="substring"><label><input type="checkbox" class="substring" name="substring" value="hide" checked="1" /><span class="description">Hide partial matches</span></label></div>
            <div class="highlighter"><label><input type="checkbox" class="highlight" name="highlight" value="show" checked="1" /><span class="description">Highlight matches</span></label></div>
         </div>
         <div class="count"><span class="number">0</span> matching pages
                  
         </div>
         <ul class="results"></ul>
      </div>
      <div id="footer">
         <div class="container"><a accesskey="p" class="nav-prev" title="Press 'p', or left-arrow, to view the previous page" href="extending.example_email.html"><span class="glyphicon glyphicon-chevron-left"></span><div class="label">Previous</div>
               <div class="title">Example email module</div></a><a accesskey="n" class="nav-next" title="Press 'n', or right-arrow, to view the next page" href="api.html"><span class="glyphicon glyphicon-chevron-right"></span><div class="label">Next</div>
               <div class="title">Swarm API</div></a></div>
      </div><script type="text/javascript" src="vendor/jquery/jquery-1.11.3.min.js"></script><script type="text/javascript" src="vendor/bootstrap/js/bootstrap.js"></script><script type="text/javascript" src="vendor/cookie/jquery.cookie.js"></script><script type="text/javascript" src="vendor/highlight/jquery.highlight.js"></script><script type="text/javascript" src="vendor/jsrender/jsrender.js"></script><script type="text/javascript" src="vendor/touchwipe/jquery.touchwipe.min.js"></script><script type="text/javascript" src="vendor/prettify/prettify.js"></script><script defer="1" type="text/javascript" src="js/index.js"></script><script defer="1" type="text/javascript" src="js/toc.js"></script><script defer="1" type="text/javascript" src="js/perforce.js"></script></body>
</html>